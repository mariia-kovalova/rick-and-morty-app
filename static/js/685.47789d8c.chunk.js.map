{"version":3,"file":"static/js/685.47789d8c.chunk.js","mappings":"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","sources":["modules/Episodes/components/EpisodeCardList/EpisodeCardList.styled.jsx","modules/Episodes/components/EpisodeCardList/EpisodeCardList.jsx","modules/Characters/components/CharacterBlock/CharacterBlock.styled.jsx","modules/Characters/components/CharacterBlock/CharacterBlock.jsx","pages/CharacterPage/CharacterPage.styled.jsx","pages/CharacterPage/CharacterPage.jsx","shared/components/GoBackLink/GoBackLink.styled.jsx","shared/components/GoBackLink/GoBackLink.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { desktop, tablet } from 'shared/constants/deviceSizes';\n\nexport const List = styled.ul`\n  padding-bottom: 20px;\n  margin: 0 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n\n  @media screen and (min-width: ${tablet}) {\n    padding-top: 20px;\n    padding-bottom: 40px;\n    gap: 20px;\n  }\n`;\n\nexport const Item = styled.li`\n  flex-basis: 100%;\n\n  @media screen and (min-width: ${desktop}) {\n    flex-basis: calc((100% - 20px) / 2);\n  }\n`;\n","import { useEpisodes } from 'hooks/useEpisodes';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { getEpisodesByFilter } from 'redux/episodes/thunks';\nimport { getSearchValues } from 'shared/utils/getSearchValues';\nimport { Item, List } from './EpisodeCardList.styled';\nimport { EpisodeCard } from '../EpisodeCard/EpisodeCard';\nimport { Loader } from 'shared/components/Loader';\nimport { Pagination } from 'shared/components/Pagination';\nimport { Error } from 'shared/components/Error';\nimport { notfound, oops } from 'shared/constants/errorText';\n\nexport const PARAMS_ARR = ['name', 'episode'];\n\nexport const EpisodeCardList = () => {\n  const [showList, setShowList] = useState(false);\n  const [searchParams] = useSearchParams();\n  const { info, episodes, error, isLoading } = useEpisodes();\n  const [page, setPage] = useState(1);\n  const dispatchFunc = useDispatch();\n\n  useEffect(() => {\n    setPage(1);\n  }, [searchParams]);\n\n  useEffect(() => {\n    const getInfo = async () => {\n      await dispatchFunc(\n        getEpisodesByFilter({\n          page,\n          ...getSearchValues(PARAMS_ARR, searchParams),\n        })\n      ).unwrap();\n      setShowList(true);\n    };\n\n    getInfo();\n  }, [dispatchFunc, page, searchParams]);\n\n  const shouldRenderList = episodes.length > 0 && !error && showList;\n  const shouldShowError = !isLoading && error && error.status !== 404;\n  const shouldShowNotFoundError = !isLoading && error && error.status === 404;\n  const shouldRenderPagination =\n    !error && episodes.length > 0 && info?.pages > 1;\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {shouldRenderList && (\n        <List>\n          {episodes.map(episode => (\n            <Item key={episode.id}>\n              <EpisodeCard episode={episode} />\n            </Item>\n          ))}\n        </List>\n      )}\n      {shouldRenderPagination && (\n        <Pagination\n          totalPages={info.pages}\n          onPageChange={setPage}\n          page={page}\n        />\n      )}\n      {shouldShowError && <Error text={oops} />}\n      {shouldShowNotFoundError && <Error text={notfound} />}\n    </>\n  );\n};\n","import styled from '@emotion/styled';\nimport { tablet } from 'shared/constants/deviceSizes';\nimport {\n  CardDecoration,\n  CardWrap,\n} from 'shared/styles/components/CardDecoration.styled';\n\nexport const Wrap = styled.div`\n  @media screen and (max-width: ${tablet}) {\n    display: flex;\n    flex-direction: column;\n    gap: 35px;\n  }\n`;\n\nexport const MobileInfoDecoration = styled(CardDecoration)`\n  &::before {\n    z-index: -1;\n  }\n\n  @media screen and (min-width: ${tablet}) {\n    &:nth-of-type(2) {\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      margin: -1px;\n      border: 0;\n      padding: 0;\n\n      white-space: nowrap;\n      clip-path: inset(100%);\n      clip: rect(0 0 0 0);\n      overflow: hidden;\n    }\n  }\n`;\n\nexport const CharacterInfoWrap = styled(CardWrap)`\n  &::before {\n    top: -18px;\n    left: -18.6px;\n  }\n\n  &::after {\n    bottom: -18px;\n    right: -18.6px;\n  }\n`;\n","import {\n  CharacterInfoWrap,\n  MobileInfoDecoration,\n  Wrap,\n} from './CharacterBlock.styled';\nimport { useOneCharacter } from 'hooks/useOneCharacter';\nimport { Character } from 'modules/Characters/components/Character/Character';\nimport { locations } from 'shared/constants/routes';\nimport { CardLoader } from 'shared/components/CardLoader/CardLoader';\nimport { CharacterInfoList } from '../CharacterInfoList/CharacterInfoList';\n\nconst NUMBER_OF_LETTER_TO_SKIP = 41;\n\nexport const CharacterBlock = () => {\n  const { character, isLoading } = useOneCharacter();\n  const { name, species, gender, origin, location } = character;\n  const locationId = location.url.slice(NUMBER_OF_LETTER_TO_SKIP);\n\n  const info = [\n    { label: 'full name', data: name },\n    { label: 'species', data: species },\n    { label: 'gender', data: gender },\n    { label: 'origin', data: origin.name },\n  ];\n\n  const links = [\n    {\n      label: 'location',\n      data: location.name,\n      path: `/${locations}/${locationId}`,\n    },\n  ];\n\n  return (\n    <Wrap>\n      <Character info={info} links={links} />\n      <MobileInfoDecoration>\n        <CharacterInfoWrap>\n          {isLoading ? (\n            <CardLoader />\n          ) : (\n            <CharacterInfoList info={info} links={links} isMobile={true} />\n          )}\n        </CharacterInfoWrap>\n      </MobileInfoDecoration>\n    </Wrap>\n  );\n};\n","import styled from '@emotion/styled';\nimport { tablet } from 'shared/constants/deviceSizes';\n\nexport const StyledH2 = styled.h2`\n  margin-top: 10px;\n  margin-bottom: 20px;\n\n  text-align: center;\n  font-size: 20px;\n  font-weight: 600;\n  color: ${({ theme }) => theme.characterCardTextAccent};\n\n  @media screen and (min-width: ${tablet}) {\n    font-size: 30px;\n  }\n`;\n","import { useOneCharacter } from 'hooks/useOneCharacter';\nimport { CharacterBlock } from 'modules/Characters/components/CharacterBlock/CharacterBlock';\nimport { EpisodeCardList } from 'modules/Episodes/components/EpisodeCardList/EpisodeCardList';\nimport { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useParams } from 'react-router';\nimport { getCharacterById } from 'redux/character/thunks';\nimport { getEpisodesByIds } from 'redux/episodes/thunks';\nimport { GoBackLink } from 'shared/components/GoBackLink/GoBackLink';\nimport { home } from 'shared/constants/routes';\nimport { Container } from 'shared/styles/components/Container.styled';\nimport { Section } from 'shared/styles/components/Section.styled';\nimport { nameNormalize } from 'shared/utils/nameNormalize';\nimport { scrollUp } from 'shared/utils/scrollUp';\nimport { StyledH2 } from './CharacterPage.styled';\nimport { Error } from 'shared/components/Error';\nimport { notfound, oops } from 'shared/constants/errorText';\n\nconst NUMBER_OF_CHARS_TO_SKIP = 40;\n\nconst CharacterPage = () => {\n  const { character, isLoading, error } = useOneCharacter();\n  const { characterId } = useParams();\n  const location = useLocation();\n  const path = location.state?.from ?? home;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    scrollUp(0);\n    dispatch(getCharacterById(characterId));\n  }, [characterId, dispatch]);\n\n  useEffect(() => {\n    if (character) {\n      const episodesIds = character.episode.map(episode =>\n        episode.slice(NUMBER_OF_CHARS_TO_SKIP)\n      );\n      dispatch(getEpisodesByIds(episodesIds));\n    }\n  }, [character, dispatch]);\n\n  const shouldShowCard = character !== null && !error;\n  const shouldShowError = !isLoading && error && error.status !== 404;\n  const shouldShowNotFoundError = !isLoading && error && error.status === 404;\n  const shouldShowEpisodes = !error && !isLoading;\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {isLoading\n            ? error && 'Character'\n            : character !== null && !error && nameNormalize(character?.name)}\n        </title>\n      </Helmet>\n      <Section>\n        <Container>\n          <GoBackLink to={path} />\n        </Container>\n      </Section>\n      <Section>\n        <Container>\n          {shouldShowCard && <CharacterBlock />}\n          {shouldShowError && <Error text={oops} />}\n          {shouldShowNotFoundError && <Error text={notfound} />}\n        </Container>\n      </Section>\n\n      {shouldShowEpisodes && (\n        <Section>\n          <Container>\n            <StyledH2>\n              Episodes where {character?.name ?? 'the charatcer'} was seen\n            </StyledH2>\n            <EpisodeCardList />\n          </Container>\n        </Section>\n      )}\n    </>\n  );\n};\n\nexport default CharacterPage;\n","import styled from '@emotion/styled/macro';\nimport { Link } from 'react-router-dom';\n\nexport const StyledLink = styled(Link)`\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n\n  padding-left: 20px;\n\n  font-style: normal;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 1.5;\n  letter-spacing: 0.25px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.textPrimary};\n\n  :hover,\n  :focus {\n    color: ${({ theme }) => theme.accent};\n  }\n`;\n\nexport const Svg = styled.svg`\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate(0, -50%);\n\n  padding: 1px;\n\n  fill: transparent;\n  stroke: ${({ theme }) => theme.textPrimary};\n  transition: stroke 100ms ${({ theme }) => theme.cubic};\n\n  ${StyledLink}:hover & {\n    stroke: ${({ theme }) => theme.accent};\n  }\n`;\n","import { StyledLink, Svg } from './GoBackLink.styled';\nimport sprite from 'shared/icons/sprite.svg';\n\nexport const GoBackLink = props => {\n  return (\n    <StyledLink {...props}>\n      <Svg width=\"20\" height=\"20\">\n        <use href={`${sprite}#icon-arrow-left-small`} />\n      </Svg>\n      Go back\n    </StyledLink>\n  );\n};\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["List","styled","tablet","Item","desktop","PARAMS_ARR","EpisodeCardList","useState","showList","setShowList","useSearchParams","searchParams","useEpisodes","info","episodes","error","isLoading","page","setPage","dispatchFunc","useDispatch","useEffect","getInfo","getEpisodesByFilter","getSearchValues","unwrap","shouldRenderList","length","shouldShowError","status","shouldShowNotFoundError","shouldRenderPagination","pages","Loader","map","episode","EpisodeCard","id","Pagination","totalPages","onPageChange","Error","text","oops","notfound","Wrap","MobileInfoDecoration","CardDecoration","CharacterInfoWrap","CardWrap","CharacterBlock","useOneCharacter","character","name","species","gender","origin","location","locationId","url","slice","label","data","links","path","locations","Character","CardLoader","CharacterInfoList","isMobile","StyledH2","theme","characterCardTextAccent","characterId","useParams","useLocation","state","from","home","dispatch","scrollUp","getCharacterById","episodesIds","getEpisodesByIds","shouldShowCard","shouldShowEpisodes","nameNormalize","GoBackLink","to","StyledLink","Link","textPrimary","accent","Svg","cubic","props","width","height","href","sprite","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}