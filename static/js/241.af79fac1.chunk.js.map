{"version":3,"file":"static/js/241.af79fac1.chunk.js","mappings":"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","sources":["redux/episodes/selectors.js","hooks/useEpisodes.js","modules/Episodes/components/EpisodeCard/EpisodeCard.styled.jsx","modules/Episodes/components/EpisodeCard/EpisodeCard.jsx","modules/Episodes/components/EpisodeCardList/EpisodeCardList.styled.jsx","modules/Episodes/components/EpisodeCardList/EpisodeCardList.jsx"],"sourcesContent":["export const selectEpisodessInfo = state => state.episodes.info;\nexport const selectEpisodesItems = state => state.episodes.items;\nexport const selectEpisodesIsLoading = state => state.episodes.isLoading;\nexport const selectEpisodesError = state => state.episodes.error;\n","import { createSelector } from '@reduxjs/toolkit';\nimport { useSelector } from 'react-redux';\nimport {\n  selectEpisodesError,\n  selectEpisodesIsLoading,\n  selectEpisodesItems,\n  selectEpisodessInfo,\n} from 'redux/episodes/selectors';\nimport { selectFavEpisodesIds } from 'redux/library/selectors';\nimport { addIsFavouriteToList } from 'shared/utils/addIsFavourite';\n\nconst selectEpisodesWithIsFav = createSelector(\n  [selectEpisodesItems, selectFavEpisodesIds],\n  addIsFavouriteToList\n);\n\nexport const useEpisodes = () => {\n  const info = useSelector(selectEpisodessInfo);\n  const episodes = useSelector(selectEpisodesWithIsFav);\n  const isLoading = useSelector(selectEpisodesIsLoading);\n  const error = useSelector(selectEpisodesError);\n\n  return {\n    info,\n    episodes,\n    isLoading,\n    error,\n  };\n};\n","import styled from '@emotion/styled/macro';\nimport { BasicWrapper } from 'modules/Episodes/Episodes.styled';\nimport { Link } from 'react-router-dom';\nimport { tablet } from 'shared/constants/deviceSizes';\nimport { Number } from 'shared/styles/components/Number.styled';\nimport { getHeartColor } from 'shared/utils/getHeartColor';\n\nexport const StyledLink = styled(Link)`\n  display: block;\n  width: 100%;\n  color: inherit;\n  transition: transform 250ms ${({ theme }) => theme.cubic};\n\n  &:hover,\n  &:focus {\n    transform: scale(1.05);\n  }\n`;\n\nexport const Wrap = styled(BasicWrapper)`\n  position: relative;\n  height: 159px;\n\n  background-color: ${({ theme }) => theme.bgPrimary};\n  border: 3px solid ${({ theme }) => theme.paginationAccent};\n\n  @media screen and (min-width: ${tablet}) {\n    height: 247px;\n  }\n\n  & ul > li:not(:first-of-type) {\n    @media screen and (max-width: ${tablet}) {\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      margin: -1px;\n      border: 0;\n      padding: 0;\n\n      white-space: nowrap;\n      clip-path: inset(100%);\n      clip: rect(0 0 0 0);\n      overflow: hidden;\n    }\n  }\n\n  & ul {\n    @media screen and (max-width: ${tablet}) {\n      top: 107px;\n      left: 41px;\n    }\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n\n    width: 100%;\n    height: 50px;\n\n    background-color: ${({ theme }) => theme.bgEpisodesTransparent};\n\n    @media screen and (max-width: ${tablet}) {\n      display: none;\n    }\n  }\n`;\n\nexport const Img = styled.img`\n  margin-left: auto;\n\n  border-radius: 4px;\n\n  @media screen and (min-width: ${tablet}) {\n    border-radius: 0 4px 4px 0;\n  }\n`;\n\nexport const StyledNumber = styled(Number)`\n  position: absolute;\n  bottom: 5px;\n  right: 20px;\n\n  font-size: 24px;\n  transition: color 250ms ${({ theme }) => theme.cubic};\n\n  ${StyledLink}:hover & {\n    color: ${({ theme }) => theme.characterCardTextAccent};\n  }\n\n  @media screen and (min-width: ${tablet}) {\n    font-size: 30px;\n  }\n`;\n\nexport const HeartWrap = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  width: 30px;\n  height: 30px;\n\n  & svg {\n    stroke: ${getHeartColor};\n    fill: ${getHeartColor};\n  }\n`;\n","import { images } from 'modules/Episodes/api.img/api.img';\nimport { getRandomIndex } from 'shared/utils/getRandomIndex';\nimport { EpisodeCardInfo } from '../EpisodCardInfo/EpisodeCardInfo';\nimport {\n  HeartWrap,\n  Img,\n  StyledLink,\n  StyledNumber,\n  Wrap,\n} from './EpisodeCard.styled';\nimport { Heart } from 'shared/components/Heart';\nimport { favepisodes } from 'shared/constants/libaryListName';\nimport { useMemo } from 'react';\nimport { episodes } from 'shared/constants/routes';\nimport { useLocation } from 'react-router';\n\nexport const EpisodeCard = ({ episode }) => {\n  const location = useLocation();\n  const randomId = useMemo(() => getRandomIndex(images.length), []);\n  const image = images[randomId];\n\n  const { id, name, isFavourite } = episode;\n\n  return (\n    <StyledLink to={`/${episodes}/${id}`} state={{ from: location }}>\n      <Wrap>\n        <Img\n          src={image}\n          alt={`episode ${name}`}\n          width=\"430\"\n          height=\"242\"\n          loading=\"lazy\"\n        />\n        <EpisodeCardInfo episode={episode} />\n        <StyledNumber>#{id}</StyledNumber>\n        <HeartWrap isFavourite={isFavourite}>\n          <Heart\n            id={id}\n            isFavourite={isFavourite}\n            libraryListName={favepisodes}\n          />\n        </HeartWrap>\n      </Wrap>\n    </StyledLink>\n  );\n};\n","import styled from '@emotion/styled';\nimport { desktop, tablet } from 'shared/constants/deviceSizes';\n\nexport const List = styled.ul`\n  padding-bottom: 20px;\n  margin: 0 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n\n  @media screen and (min-width: ${tablet}) {\n    padding-top: 20px;\n    padding-bottom: 40px;\n    gap: 20px;\n  }\n`;\n\nexport const Item = styled.li`\n  flex-basis: 100%;\n\n  @media screen and (min-width: ${desktop}) {\n    flex-basis: calc((100% - 20px) / 2);\n  }\n`;\n","import { useEpisodes } from 'hooks/useEpisodes';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getEpisodesByFilter } from 'redux/episodes/thunks';\nimport { Loader } from 'shared/components/Loader';\nimport { Pagination } from 'shared/components/Pagination';\nimport { ResultsNotFound } from 'shared/components/ResultsNotFound';\nimport { EpisodeCard } from '../EpisodeCard/EpisodeCard';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchValues } from 'shared/utils/getSearchValues';\nimport { Item, List } from './EpisodeCardList.styled';\n\nexport const PARAMS_ARR = ['name', 'episode'];\n\nexport const EpisodeCardList = () => {\n  const [searchParams] = useSearchParams();\n  const { info, episodes, error, isLoading } = useEpisodes();\n  const [page, setPage] = useState(1);\n  const dispatchFunc = useDispatch();\n\n  useEffect(() => {\n    setPage(1);\n  }, [searchParams]);\n\n  useEffect(() => {\n    dispatchFunc(\n      getEpisodesByFilter({\n        page,\n        ...getSearchValues(PARAMS_ARR, searchParams),\n      })\n    );\n  }, [dispatchFunc, page, searchParams]);\n\n  const shouldRenderList = episodes.length > 0 && !error;\n  const shouldShowError = !isLoading && error && error.status !== 404;\n  const shouldShowNotFoundError = !isLoading && error && error.status === 404;\n  const shouldRenderPagination =\n    !error && episodes.length > 0 && info?.pages > 1;\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {shouldRenderList && (\n        <List>\n          {episodes.map(episode => (\n            <Item key={episode.id}>\n              <EpisodeCard episode={episode} />\n            </Item>\n          ))}\n        </List>\n      )}\n      {shouldRenderPagination && (\n        <Pagination\n          totalPages={info.pages}\n          onPageChange={setPage}\n          page={page}\n        />\n      )}\n      {shouldShowError && <div>Oops, something went wrong </div>}\n      {shouldShowNotFoundError && <ResultsNotFound />}\n    </>\n  );\n};\n"],"names":["selectEpisodessInfo","state","episodes","info","selectEpisodesIsLoading","isLoading","selectEpisodesError","error","selectEpisodesWithIsFav","createSelector","items","selectFavEpisodesIds","addIsFavouriteToList","useEpisodes","useSelector","StyledLink","Link","theme","cubic","Wrap","BasicWrapper","bgPrimary","paginationAccent","tablet","bgEpisodesTransparent","Img","StyledNumber","Number","characterCardTextAccent","HeartWrap","getHeartColor","EpisodeCard","episode","location","useLocation","randomId","useMemo","getRandomIndex","images","image","id","name","isFavourite","to","from","src","alt","width","height","loading","EpisodeCardInfo","Heart","libraryListName","favepisodes","List","styled","Item","desktop","PARAMS_ARR","EpisodeCardList","useSearchParams","searchParams","useState","page","setPage","dispatchFunc","useDispatch","useEffect","getEpisodesByFilter","getSearchValues","shouldRenderList","length","shouldShowError","status","shouldShowNotFoundError","shouldRenderPagination","pages","Loader","map","Pagination","totalPages","onPageChange","ResultsNotFound"],"sourceRoot":""}